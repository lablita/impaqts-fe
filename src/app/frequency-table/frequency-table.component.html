<div *ngIf="visible">
  <div class="flex justify-content-center">
    <h3><b>{{'MENU.FREQUENCY' | translate}}</b></h3>
  </div>
  <p-progressSpinner *ngIf="loading" [style]="{width: '50px', height: '50px'}" animationDuration=".5s"
    class="flex align-items-center">
  </p-progressSpinner>
  <div style="width: 250px;" *ngIf="lines.length > 0 && !loading">
    <h3 *ngIf="totalResults">Query <span style="color:red;">{{fieldRequest ? fieldRequest.simpleResult :
        ''}}</span>&nbsp;<b>{{totalResults}}</b>
    </h3>
  </div>
</div>
<p-table *ngIf="visible" [value]="lines" [lazy]="true" (onLazyLoad)="loadFrequencies($event)" [paginator]="true"
  [rows]="initialPagination" [rowsPerPageOptions]="paginations" [totalRecords]="totalItems" [customSort]="true"
  currentPageReportTemplate="'page: {currentPage} of {totalPages}'" [showCurrentPageReport]="true"
  [sortField]="sortField" [sortOrder]="-1">

  <ng-template pTemplate="header">
    <tr>
      <th>
      </th>
      <th class="text-right" *ngFor="let col of colHeader" [pSortableColumn]="col">{{col | translate}}
        <p-sortIcon [field]="col"></p-sortIcon>
      </th>
      <th class="text-right">{{'PAGE.FREQUENCY.ITEMS' | translate}}: {{totalItems}} -
        {{'PAGE.FREQUENCY.TOTAL_FREQ' | translate}}: {{totalFrequency}}</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-line>
    <tr *ngIf="line">
      <td> P | N</td>
      <td class="text-right">{{line.word[0]}}</td>
      <td class="text-right">{{line.word[1]}}</td>
      <td class="text-right">{{line.word[2]}}</td>
      <td class="text-right">{{line.word[3]}}</td>
      <td class="text-right">{{line.freq}}</td>
      <td>
        <p-progressBar [value]="(line.fbar / 301) * 100" [showValue]="false"></p-progressBar>
      </td>
    </tr>
  </ng-template>
</p-table>
<div class="mt-3 w-12" *ngIf="visible && noResultFound && !loading">
  <h3 style="text-align: center; color: red;">{{"PAGE.NO_RESULT_FOUND" | translate}}</h3>
</div>
