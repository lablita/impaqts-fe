<div *ngIf="first" class="flex justify-content-center">
  <h3><b>{{'MENU.FREQUENCY' | translate}}</b></h3>
</div>
<div *ngIf="!first" class="flex justify-content-center">
  <h3><b>&nbsp;</b></h3>
</div>
<p-progressSpinner *ngIf="loading" [style]="{width: '50px', height: '50px'}" animationDuration=".5s"
  class="flex align-items-center">
</p-progressSpinner>
<p-table *ngIf="visible" [value]="lines" [lazy]="true" (onLazyLoad)="loadFrequencies($event)" [paginator]="true"
  [rows]="initialPagination" [rowsPerPageOptions]="paginations" [totalRecords]="totalItems" [customSort]="true"
  currentPageReportTemplate="'page: {currentPage} of {totalPages}'" [showCurrentPageReport]="true"
  [sortField]="sortField" [sortOrder]="-1">
  <ng-template pTemplate="header">
    <tr>
      <th>
      </th>
      <th *ngIf="!multilevel" class="text-right" pSortableColumn="0">{{category}}</th>
      <th class="text-right" *ngFor="let col of colHeader" [pSortableColumn]="col">{{col | translate}}
        <p-sortIcon [field]="col"></p-sortIcon>
      </th>
      <th class="text-right">{{'PAGE.FREQUENCY.ITEMS' | translate}}: {{totalItems}} -
        {{'PAGE.FREQUENCY.TOTAL_FREQ' | translate}}: {{totalFrequency}}</th>
    </tr>
  </ng-template>
  <ng-template pTemplate="body" let-line>
    <tr *ngIf="line">
      <td> P | N</td>
      <td *ngIf="multilevel" class="text-right">{{line.word[0]}}</td>
      <td *ngIf="!multilevel" class="text-right"><a href="http://{{line.word[0]}}" target="_blank">{{line.word[0]}}</a>
      </td>
      <td *ngIf="multilevel" class="text-right">{{line.word[1]}}</td>
      <td *ngIf="multilevel" class="text-right">{{line.word[2]}}</td>
      <td *ngIf="multilevel" class="text-right">{{line.word[3]}}</td>
      <td class="text-right">{{line.freq}}</td>
      <td *ngIf="!multilevel" class="text-right">{{line.rel}}</td>
      <td>
        <p-progressBar *ngIf="multilevel" [value]="(line.freq / totalFrequency) * 100" [showValue]="false"
          tooltipPosition="bottom" pTooltip="{{'PAGE.FREQUENCY.FREQUENCY' | translate}}: {{line.freq}}">
        </p-progressBar>
        <p-progressBar *ngIf="!multilevel" [value]="(line.freq / totalFrequency) * 100" [showValue]="false"
          tooltipPosition="bottom"
          pTooltip="{{'PAGE.FREQUENCY.FREQUENCY' | translate}}: {{line.freq}} {{'PAGE.FREQUENCY.REL' | translate}}: {{line.rel}}">
        </p-progressBar>
      </td>
    </tr>
  </ng-template>
</p-table>
<div class="mt-3 w-12" *ngIf="visible && noResultFound && !loading">
  <h3 style="text-align: center;" class="text-red">{{"PAGE.NO_RESULT_FOUND" | translate}}</h3>
</div>