<p-card class="p-p-3">
  <div class="p-field p-d-flex">
    <label class="label-size" for="state">{{"PAGE.CONCORDANCE.CORPUS" | translate}}</label>
    <p-dropdown [options]="corpusList" [(ngModel)]="selectedCorpus" optionLabel="value"
      [placeholder]="'Select a Corpus'" [filter]="true" [showClear]="true">
      <ng-template pTemplate="selectedItem">
        <div *ngIf="selectedCorpus">
          <div class="label-size">{{selectedCorpus.value}}</div>
        </div>
      </ng-template>
      <ng-template let-country pTemplate="item">
        <div>
          <div class="label-size">{{country.value.value}}</div>
        </div>
      </ng-template>
    </p-dropdown>
  </div>

  <span class="p-component">
    <h2>{{"PAGE.VISUAL_QUERY.QUERY" | translate}}</h2>
  </span>
  <div class="p-jc-start p-mt-2">
    <div *ngFor="let token of queryPattern.tokPattern" class="p-mr-2 p-d-inline-flex">
      <div class="box">
        <app-query-token [token]="token" [typeList]="typeListQuery" [option]="true" (delete)="deleteTokenQuery(token)">
        </app-query-token>
      </div>
    </div>
  </div>
  <button pButton label=" " (click)="addTokenQuery()"><i
      class="pi pi-plus-circle"></i>&nbsp;{{"PAGE.VISUAL_QUERY.ADD_TOKEN" | translate}}</button>

  <hr>

  <span class="p-component">
    <h2>{{"PAGE.VISUAL_QUERY.METADATA" | translate}}</h2>
  </span>
  <div class="p-jc-start p-mt-2">
    <div *ngFor="let token of metadata" class="p-mr-2">
      <div class="box">
        <app-query-token [token]="token" [typeList]="typeListMetadata" (delete)="deleteTokenMetadata(token)">
        </app-query-token>
      </div>
    </div>
  </div>
  <button pButton label=" " (click)="addTokenMetadata()" [disabled]="metadata.length > 0"><i
      class="pi pi-plus-circle"></i>&nbsp;{{"PAGE.VISUAL_QUERY.ADD_METADATA" | translate}}</button>


  <div class="p-mt-6 p-text-center">
    <button [disabled]="queryPattern.tokPattern.length === 0 || !selectedCorpus" pButton type="button"
      label="{{'PAGE.CONCORDANCE.MAKE_CONCORDANCE' | translate}}" (click)="loadConcordances()"></button>
  </div>
