<div class="flex flex-row">
  <div class="flex flex-grow-1 flex-column mt-3 w-8">
    <app-query-request (titleResultChange)="setTitleResult($event)"
      (metadataAttributesChange)="setMetadataAttributes($event)"
      (textTypesAttributesChange)="setTextTypesAttributes($event)" (selectedCorpusChange)="setSelectedCorpus($event)">
    </app-query-request>
    <div class="flex mt-3" *ngIf="!!titleResult || !isLastResultsEmpty()">
      <p-card class="w-12">
        <ng-container *ngIf="elaboration === 'collocation'">
          <app-collocation-table [visible]="titleResult==='MENU.COLLOCATION' && !!selectedCorpus"
            [initialPagination]="initialPagination" [paginations]="paginations">
          </app-collocation-table>
        </ng-container>
        <ng-container *ngIf="elaboration === 'concordance'">
          <app-concordance-table [visible]="(!isLastResultsEmpty() || titleResult==='MENU.CONCORDANCE')"
            [initialPagination]="initialPagination" [paginations]="paginations">
          </app-concordance-table>
        </ng-container>
        <ng-container *ngIf="elaboration === 'frequency'">
          <app-frequency-table *ngFor="let category of categories, let i=index"
            [visible]="titleResult==='MENU.FREQUENCY' && categories && categories.length>0" [category]="category"
            [first]="i===0" (titleResult)="setTitleResult($event)">
          </app-frequency-table>
          <ng-container *ngIf="categories && categories.length < 1">
            <app-frequency-table [visible]="titleResult==='MENU.FREQUENCY'" [corpus]="selectedCorpus"
              (titleResult)="setTitleResult($event)" [first]="true">
            </app-frequency-table>
          </ng-container>
        </ng-container>
      </p-card>
    </div>
  </div>
  <div class="flex flex-column w-4" *ngIf="(panelDisplayMTD || panelDisplayOPT) && !!selectedCorpus">
    <app-dispaly-panel-options [isVisualQuery]="false" [selectedCorpus]="selectedCorpus.key"
      [panelDisplayMTD]="panelDisplayMTD" [panelDisplayOPT]="panelDisplayOPT" [metadataAttributes]="metadataAttributes"
      [textTypesAttributes]="textTypesAttributes" [metadataTextTypes]="metadataTextTypes"
      (loadCollocations)="displayCollocations()" (sort)="displayConcordances()" (frequency)="displayFrequency()">
    </app-dispaly-panel-options>
  </div>
</div>
<p-dialog header="Errore di autorizzazione" [visible]="displayNotAllowedUserForInstallation" [modal]="true"
  [style]="{width: '50vw'}" [draggable]="false" [resizable]="false" [closeOnEscape]="false" [closable]="false">
  <p class="m-0">Non hai i permessi per accedere all'installazione</p>
  <ng-template pTemplate="footer">
    <p-button icon="pi pi-check" (click)="confirmNotAllowed()" label="Logout" styleClass="p-button-text"></p-button>
  </ng-template>
</p-dialog>
