<div class="shadow-2">
  <p-card [style]="{'width': '30rem', 'margin-bottom': '2em'}">
    <ng-container *ngIf="token">
      <div *ngFor="let andTag of token.tags; let idxAnd = index" class="mb-3">
        <div class="shadow-4">
          <p-card>
            <div *ngFor="let tag of andTag; let idxOr = index">
              <app-query-tag [tag]="tag" [typeList]="typeList" [defaultType]="defaultType" [actionList]="actionList"
                [defaultAction]="defaultAction" [metadatumTextTypes]="metadatumTextTypes"
                (delete)="deleteTag(tag, andTag)" [metadata]="metadata" [deleteTagOn]="countTags() > 1">
              </app-query-tag>
              <div *ngIf="idxOr < (andTag.length - 1)" class="flex justify-content-center">
                <b>OR</b>
              </div>
              <div *ngIf="idxOr === (andTag.length - 1)" class="ml-1 flex justify-content-center">
                <button pButton pTooltip="Add in OR" type="button" class="p-button-raised" label="Add in OR"
                  (click)="addTag(andTag)"></button>
              </div>
            </div>
          </p-card>
        </div>
        <div *ngIf="idxAnd < (token.tags.length - 1)" class="flex justify-content-center mt-3">
          <b>AND</b>
        </div>
      </div>
    </ng-container>
    <div class="flex justify-content-between">
      <button pButton pTooltip="Add in AND" type="button" class="p-button-raised" label="Add in AND"
        (click)="addAndTag()">
      </button>
      <button pButton type="button" pTooltip="Delete Token" label="Delete token" class="p-button-raised"
        (click)="deleteToken()"></button>
   </div>
  </p-card>
</div>